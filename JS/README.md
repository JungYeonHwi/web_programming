# JS

### DOM 관련 JS API

#### DOM

- DOM : HTML, XML에 대한 프로그래밍 인터페이스
- JS로 DOM 요소를 선택하는 방법
  - id, class, tag name을 사용하여 DOM 요소를 선택하는 방법
    - document.getElementById(<아이디>); : HTML요소의 id 속성값이 <아이디>인 요소 선택
    - document.getElementByClassName(<클래스>); : class 속성에 <클래스>가 포함된 모든 요소
    - document.getElementsByTagName(<태그 이름>); : 태그가 <태그 이름>인 모든 요소
  - CSS 선택자를 사용하여 DOM 요소를 선택하는 방법(가상 요소는 선택 불가 ex hover)
    - document.querySelector(<CSS 선택자>); : <CSS 선택자>로 선택될 수 있는 첫 번째 요소
    - document.querySelectorAll(<CSS 선택자>); : <CSS 선택자>로 선택될 수 있는 모든 요소
  - 부모, 형제, 자식 DOM 요소를 선택하는 방법
    - <요소>.parentElement; : <요소>의 부모 요소
    - <요소>.nextElementSibling; : <요소>의 다음 형제 요소
    - <요소>.previousElementSibling; : <요소>의 이전 형제 요소
    - <요소>.children : <요소>의 모든 자식 요소
- JS로 DOM 요소를 제어 방법
  - DOM 요소 생성
    - const element = document.createElement(<태그 이름>); : <태그 이름>으로 된 HTML 요소 생성
  - DOM에 요소 추가
    - <요소1>.appendChild(<요소2>); : <요소1>에 <요소2>를 자식 요소로 맨 뒤에 추가
    - <요소1>.insertBefore(<요소2>, <요소3>); : <요소1>에 <요소2>를 추가하되 <요소1>의 자식 요소인 <요소3> 앞에 추가
  - 요소에 내용 추가
    - <요소>.innerHTML; : <요소> 내부의 내용 가져오기
    - <요소>.innerHTML = <내용> : <요소> 내부의 내용을 <내용>으로 변경
    - const text = document.createTextNode(<텍스트>); : 텍스트 노드를 생성
    - <요소>.appendChild(text); : 생성한 텍스트를 <요소>에 추가
  - DOM에서 요소 삭제
    - <요소>.remove(); : <요소>를 DOM 트리에서 삭제
    - <요소1>.removeChild(<요소2>); : <요소1>의 자식 요소 중 <요소2>를 삭제
  - 요소의 class 속성 제어
    - <요소>.classList.add(<클래스>); : <요소>의 class 속성에 <클래스> 추가
    - <요소>.classList.remove(<클래스>); : <요소>의 class 속성에서 <클래스> 제거
    - <요소>.classList.toggle(<클래스>); : <요소>의 class 속성에 <클래스>가 없으면 추가 있으면 제거
  - 요소의 style 속성 제어
    - <요소>.style.color = <값>; : 요소의 color 속성을 <값>으로 변경
    - <요소>.style.backgroundColor = <값>; : 요소의 background-color 속성을 <값>으로 변경
    - <요소>.style.<스타일속성> 형태로 제어 가능하며 CSS의 kebab case를 JS에서는 camel case로 표현
  - 요소에 속성 추가 및 제거
    - <요소>.setAttribute(<속성>, <속성값>); : <요소>에 <속성>을 <속성값>으로 추가
    - <요소>.removeAttribute(<속성>); : <요소>에서 <속성>을 제거

---

### 브라우저 객체 모델

#### window 객체

- window 객체는 JS의 브라우저 기반 최상위 객체
- 전역 공간의 역할을 하여 window 객체의 메서드나 속성은 window 객체를 통하지 않고도 직접 접근 가능

* window 객체의 onload 이벤트 속성
  - 브라우저가 HTML 파일을 로드하면서 <script>태그를 만나면 로드를 멈추고 바로 해당 스크립트를 실행하고 다시 로드하게 됨
  - window의 onload에 문서가 모두 로드가 된 이후 실행할 함수를 전달하면 모든 HTML 문서가 로드가 된 후에 전달한 함수가 실행
  - <script> 태그가 html의 맨 마지막에 있으면 모든 HTML 요소가 로드가 된 후 JS가 실행이 되기 때문에 window.onload에 함수를 넣지 않아도 됨

#### screen 객체

- screen 객체는 웹 브라우저의 화면이 아닌 운영체제의 화면을 갖는 객체
- 웹 브라우저마다 가지고 있는 속성이 다를 수 있음
- 모든 웹 브라우저가 공통으로 갖는 screen 객체의 속성
  - width : 화면의 너비
  - height : 화면의 높이
  - availWidth : 실제 화면에서 사용 가능한 너비
  - availHeight : 실제 화면에서 사용 가능한 높이
  - colorDepth : 사용 가능한 색상 수
  - pixelDepth : 한 픽셀당 비트 수

#### location 객체

- 웹 브라우저의 주소 표시주로가 관련된 객체
- 프로토콜의 종류, 호스트 이름, 문서 위치 등의 정보가 있음

* 모든 웹 브라우저에 있는 location 객체의 속성
  - href : 문서의 URL 주소
  - host : 호스트 이름과 포트 번호
  - hostname : 호스트 이름
  - port : 포트 번호
  - pathname : 디렉터리 경로
  - hash : 앵커 이름(#~)
  - search : 요청 매개변수(?parm=value)
  - protocol : 프로토콜의 종류(http, https)
* location 객체의 메서드
  - assign(link) : 현재 위치를 이동
  - reload : 새로 고침
  - replace(link) : 현재 위치를 이동, 뒤로 가기 불가능

#### navigator 객체

- 웹 페이지를 실행하고 있는 브라우저에 대한 정보를 가진 객체
- navigator 객체에서 자주 사용하는 속성
  - appCodeName : 브라우저의 코드 이름
  - appName : 브라우저의 이름
  - appVersion : 브라우저의 버전
  - platform : 사용 중인 운영체제의 시스템 환경
  - userAgent : 웹 브라우저의 신체 정보

---

### 이벤트 처리

#### 이벤트 종류와 속성

- 마우스 이벤트 : click, mouseenter, mouseover, ...
- 키보드 이벤트 : keydown, keypress, keyup, ...
- 리소스 이벤트 : load, cashed, error, ...
- 네트워크 이벤트 : online, offline, ...
- 포커스 이벤트 : focus, blur, ...
- 웹소켓 이벤트 : open, message, error, close, ...

#### 이벤트 리스너(핸들러)의 이해

- 이벤트 연결
  - 고전 이벤트 모델
  - 인라인 이벤트 모델
  - 표준 이벤트 모델
- 이벤트 리스너(또는 이벤트 핸들러)
  - 일반적으로 프로그램은 코드를 제어구조(순차/선택/반복 구조)에 의한 순서로 실행이 됨
  - 이벤트는 어느 시점에서 발생할 지 예상할 수 없기 때문에 이런 제어구조에서 실행하는 것이 불가능
  - 특정 이벤트가 발생했을 때 실행할 코드를 함수로 만들어 연결시키고, 이벤트가 발생하면 해당 함수를 실행시키는 형태로 프로그램을 작성하는데 이런 함수를 이벤트 리스너 또는 이벤트 핸들러라 함
- 이벤틀 루프와 태스크 큐
  - 이벤트가 발생하면 등록된 이벤트 리스너가 태스크 큐에 등록
  - 이벤트 루프는 태스크 큐에 등록된 함수가 있으면 이를 차례롤 가져와서 실행
- 이벤트 속성
  - 이벤트 발생시 이벤트 리스너가 실행이 되며 이때 이벤트 리스너로 이벤트 객체를 전달
  - 이벤트 객체의 정보가 필요한 경우 다음과 같이 이벤트 객체를 받아서 처리

#### 디폴트 이벤트

- 일부 HTML 요소는 기본으로 동작하는 이벤트 리스너가 등록되어 있음
  - ex) a 요소를 클릭하면 다른 페이지로 이동
  - ex) form 요소 내의 submit 버튼을 클릭하면 입력 양식을 제출

#### 이벤트 버블링

- 자식 요소에서 이벤트가 발생하였을 때, 이벤트가 부모 요소로 전파되는 형상
- 이벤트 리스너는 호출될 때 매개변수로 이벤트 객체가 전달되는데 이벤트 버블링을 막기 위해서는 이벤트 객체의 stopPropagation() 메서드를 호출하면 됨

---

### 예외 처리

#### 예외의 개념

- 프로그램이 실행되면서 오류가 발생될 수 있으며, 오류가 발생하면 프로그램이 비정상적으로 종료
- 오류는 에러와 예외로 나눌 수 있음
- 오류는 JS 문법에 맞게 작성하지 않아 발생하는 구문 오류와 문법은 올바르지만 코드의 논리적 문제가 있는 논리 오류로도 나눌 수 있음
- 에러는 컴퓨터 하드웨어의 고장이나 정전과 같은 환경적인 요인에 의해 발생하는 것으로 개발자가 예측하여 처리할 수 없는 오류나 구문 오류를 말함 (구문 오류는 개발자가 수정해야 함)
- 예외는 논리 오류에서 나타나며 사용자의 잘못된 조작이나 개발자가 잘못 작성한 코드로 인해 발생하는 것으로 개발자가 예측하여 처리할 수 있는 오류를 말함
  - ex) 사용자가 나이를 음수로 입력하는 경우
  - ex) 회원 가입시 필수 정보를 입력하지 않고 제출하는 경우
  - ex) 배열의 범위를 넘는 인덱스를 참조하는 경우

#### try/catch, finally 구문

- 예외가 발생하지 않게 사전에 예외를 처리하는 것
- if 문 등을 이용하여 처리할 수도 있지만 JS에서는 try/catch/finally 구문을 이용하여 예외를 처리할 수 있음

#### throw로 예외 발생시키기

- 예외를 강제로 발생시켜야 하는 경우가 있으며 이때 throw 구문을 이용하여 예외를 발생시킬 수 있음

---

### 비동기 프로그래밍

#### 동기/비동기 프로그래밍의 개념

- 동기 프로그래밍
  - 일반적으로 프로그램의 코드는 순차적으로 진행
  - 순차적으로 진행되는 실행되는 프로그램을 동기 프로그램이라 함
- 비동기 프로그래밍
  - 순차적으로 실행이 되지 않는 프로그램
  - JS에서는 비동기 프로그래밍을 자주 사용 ex) 이벤트 처리, 파일 읽고 쓰기
  - 수행 시간이 오래 걸리는 작업의 경우 비동기적으로 처리

#### Callback

- Callback : 함수 F1의 매개 변수로 함수 F2를 전달하여 F1 내부에서 F2를 호출하는 것
- F1의 매개 변수로 전달된 함수 F2를 콜백 함수callback function라 함

* 콜백 함수를 사용하는 경우
  - ex) 일반 함수에서 사용(동기적 방식, 앞 페이지의 예)
  - ex) 배열의 메소드에서 배열 처리를 위해 사용(동기적 방식)

#### Promise

#### Async/await
